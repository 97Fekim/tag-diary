<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<th:block th:replace="~{/layout/basic :: setContent(~{this::content})}">
    <th:block th:fragment="content">

        <!-- Page Header-->
        <header class="masthead" style="padding-top: 5rem; padding-bottom: 5rem; background-image: url('/assets/img/beach.jpg')">
            <div class="container position-relative px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">

                    </div>
                </div>
            </div>
        </header>

        <!-- Page content-->
        <div class="container mt-5">
            <div class="row">
                <!-- Side widgets-->
                <div class="col-lg-4">
                    <!-- Categories widget-->
                    <div class="card mb-4">
                        <div class="card-header">태그1</div>
                        <div class="card-body">
                            <div class="row">
                                <div id="tagContainer" class="post-preview">

                                    <th:block th:each="tagDTO : ${tagDTOList}">
                                        <!-- Post preview-->

                                        <button th:id="${tagDTO.tno}" class="big-tag-box" th:style="|background-color: ${tagDTO.color}|" th:text="${tagDTO.name}">
                                        </button>

                                    </th:block>

                                </div>
                            </div>
                        </div>
                        <div class="card-header">태그2</div>
                        <div class="card-body">
                            <div class="row">
                                <div class="post-preview">

                                    <th:block th:each="tagDTO : ${tagDTOList}">
                                        <!-- Post preview-->

                                        <button draggable="true" class="tag-box" th:style="|background-color: ${tagDTO.color}|" th:text="${tagDTO.name}">
                                        </button>&nbsp;

                                    </th:block>

                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Side widget-->
                    <div class="card mb-4">
                        <div class="card-header">Side Widget</div>
                        <div class="card-body">You can put anything you want inside of these side widgets. They are easy to use, and feature the Bootstrap 5 card component!</div>
                    </div>
                </div>

                <div class="col-lg-8">
                    <div class="card-header">글 등록</div>
                    <div class="card-body">
                        <div class="row">
                            <div id="diaryContainer" class="post-preview tag-container">


                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script>
            const tags = document.querySelectorAll(".big-tag-box");
            const tagContainer = document.getElementById("tagContainer")
            const diaryContainer = document.getElementById("diaryContainer")

            tags.forEach(tag => {
                tag.addEventListener("click", () => {
                    console.log(tag);
                    tag.classList.add("move");

                    const move = document.querySelector(".move");

                    diaryContainer.appendChild(move);
                    tag.classList.remove("move");

                });

                // draggable.addEventListener("dragend", () => {
                //     draggable.classList.remove("dragging");
                //     console.log("drop!!!")
                //
                //     let beAdded = document.createElement('textarea');
                //
                //     beAdded.setAttribute('row', 6);
                //     beAdded.setAttribute('placeholder', '새로생김');
                //
                //     let beAddedBr = document.createElement('br');
                //
                //     console.log("drop!");
                //
                //     document.getElementById('temp').appendChild(beAdded);
                //     document.getElementById('temp').appendChild(beAddedBr);
                // });
            });

            // containers.forEach(container => {
            //     container.addEventListener("dragover", e => {
            //         e.preventDefault();
            //         const draggable = document.querySelector(".dragging");
            //         container.appendChild(draggable);
            //
            //     });
            // });

        </script>

    </th:block>
</th:block>